<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width,initial-scale=1" name="viewport" />
    <title>Elysian Spectacle - Register</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <header>
        <nav class="container">
            <a href="home.html" class="logo">Elysian Spectacle</a>

            <ul class="nav-links">
                <li><a href="home.html">Home</a></li>
                <li><a href="events.html">Events</a></li>
                <li><a href="artists.html">Artists</a></li>
                <li><a href="calendar.html">Calendar</a></li>
                <li><a href="contact.html">Contact</a></li>
            </ul>

            <div class="nav-actions">
                <button class="theme-toggle" onclick="toggleTheme()">ðŸŒ™</button>
                <button class="btn btn-secondary" onclick="window.location.href='login.html'">Login</button>
            </div>
        </nav>
    </header>

    <main class="container">
        <div class="hero">
            <h1>Join Elysian Spectacle</h1>
            <p>Create your account and start discovering amazing events</p>
        </div>

        <div style="max-width: 500px; margin: 2rem auto;">
            <div class="card">
                <h2 class="text-center mb-2">Create Account</h2>

                <div id="register-alerts"></div>

                <form id="register-form" onsubmit="handleRegister(event)">
                    <div class="form-group">
                        <label>Full Name</label>
                        <input type="text" id="fullName" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label>Email Address</label>
                        <input type="email" id="email" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label>Phone Number</label>
                        <input type="tel" id="phone" class="form-control" required>
                    </div>
                    <div class="grid grid-2">
                        <div class="form-group">
                            <label>Password</label>
                            <input type="password" id="password" class="form-control" required minlength="6">
                        </div>
                        <div class="form-group">
                            <label>Confirm Password</label>
                            <input type="password" id="confirmPassword" class="form-control" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="terms" required>
                            I agree to the <a href="#" onclick="showTerms()">Terms of Service</a> and <a href="#"
                                onclick="showPrivacy()">Privacy Policy</a>
                        </label>
                    </div>
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="newsletter">
                            Subscribe to our newsletter for event updates
                        </label>
                    </div>
                    <button type="submit" class="btn btn-primary" style="width: 100%;">Create Account</button>
                </form>

                <div class="text-center mt-2">
                    <p>Already have an account? <a href="login.html">Login here</a></p>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>Elysian Spectacle</h4>
                    <p>Connecting audiences with unforgettable cultural experiences worldwide.</p>
                </div>
                <div class="footer-section">
                    <h4>Quick Links</h4>
                    <p><a href="events.html">Browse Events</a></p>
                    <p><a href="artists.html">Meet Artists</a></p>
                    <p><a href="host-event.html">Host Event</a></p>
                </div>
            </div>
        </div>
    </footer>

    <script src="script.js"></script>
    <script>
        function handleRegister(e) {
            e.preventDefault();

            const fullName = document.getElementById('fullName').value;
            const email = document.getElementById('email').value;
            const phone = document.getElementById('phone').value;
            const password = document.getElementById('password').value;
            const confirmPassword = document.getElementById('confirmPassword').value;
            const terms = document.getElementById('terms').checked;
            const newsletter = document.getElementById('newsletter').checked;

            // Validation
            if (!terms) {
                showAlert('Please accept the terms and conditions', 'error');
                return;
            }

            if (password !== confirmPassword) {
                showAlert('Passwords do not match', 'error');
                return;
            }

            if (password.length < 6) {
                showAlert('Password must be at least 6 characters long', 'error');
                return;
            }

            // Create user object
            const user = {
                name: fullName,
                email: email,
                phone: phone,
                role: 'user',
                newsletter: newsletter,
                registrationDate: new Date().toISOString(),
                id: Date.now() // Simple ID generation
            };

            // Store user data
            localStorage.setItem('currentUser', JSON.stringify(user));

            // Store in users list (for demo purposes)
            const existingUsers = JSON.parse(localStorage.getItem('users') || '[]');
            existingUsers.push(user);
            localStorage.setItem('users', JSON.stringify(existingUsers));

            showAlert('Account created successfully! Welcome to Elysian Spectacle!', 'success');

            setTimeout(() => {
                window.location.href = 'profile.html';
            }, 2000);
        }

        function showAlert(message, type) {
            const alertsDiv = document.getElementById('register-alerts');
            const alertDiv = document.createElement('div');
            alertDiv.className = `alert alert-${type}`;
            alertDiv.textContent = message;

            alertsDiv.appendChild(alertDiv);

            setTimeout(() => {
                alertDiv.remove();
            }, 5000);
        }

        function showTerms() {
            alert('Terms of Service:\n\n1. Use of this platform is subject to our community guidelines\n2. Users are responsible for accurate event information\n3. Refunds are subject to individual event policies\n4. We reserve the right to moderate content\n\n(This is a demo - full terms would be provided)');
        }

        function showPrivacy() {
            alert('Privacy Policy:\n\n1. We collect minimal necessary information\n2. Your data is never sold to third parties\n3. You can request data deletion at any time\n4. We use cookies to improve user experience\n\n(This is a demo - full privacy policy would be provided)');
        }

        // Form validation enhancements
        document.getElementById('confirmPassword').addEventListener('input', function () {
            const password = document.getElementById('password').value;
            const confirmPassword = this.value;

            if (password !== confirmPassword) {
                this.setCustomValidity('Passwords do not match');
            } else {
                this.setCustomValidity('');
            }
        });

        // Check if user is already logged in
        document.addEventListener('DOMContentLoaded', function () {
            const user = JSON.parse(localStorage.getItem('currentUser') || sessionStorage.getItem('currentUser') || '{}');
            if (user.email) {
                showAlert('You are already logged in. Redirecting...', 'info');
                setTimeout(() => {
                    window.location.href = 'profile.html';
                }, 1500);
            }
        });
    </script>
</body>

</html>